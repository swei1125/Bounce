!function(t){var s={};function e(i){if(s[i])return s[i].exports;var h=s[i]={i:i,l:!1,exports:{}};return t[i].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=s,e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var h in t)e.d(i,h,function(s){return t[s]}.bind(null,h));return i},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=0)}([function(t,s,e){"use strict";e.r(s);var i=class{constructor(t,s,e){this.width=65,this.height=8,this.color=s,this.x=t.x,this.y=t.y,this.status=1,this.degree=e,this.faceDir=e===Math.PI/180*45?"left":"right"}rotate(){this.degree=Math.PI/180*135}};var h=class{constructor(t,s){this.radius=8,this.x=t.x,this.y=t.y,this.moveDir="up",this.ctx=s}draw(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fillStyle="white",this.ctx.fill(),this.ctx.closePath()}};var a=class{constructor(t,s,e){this.ctx=t,this.canvas=s,this.start=e.start,this.dest=e.dest,this.paddles=e.paddles,this.releaseBall=!1,this.ball=new h({x:this.start.x,y:this.start.y},t),this.dx=0,this.dy=-2,this.drawDest=this.drawDest.bind(this),this.drawStart=this.drawStart.bind(this),this.drawPaddles=this.drawPaddles.bind(this),this.won=!1,this.over=!1}startScreen(){this.ctx.beginPath(),this.ctx.font="50px Arial";let t=this.ctx.createLinearGradient(0,0,this.canvas.width,0);t.addColorStop("0","#12c2e9"),t.addColorStop("0.5","#c471ed"),t.addColorStop("1.0","#f64f59"),this.ctx.fillStyle=t,this.ctx.fillText("Click to Start",105,300),this.ctx.closePath()}setup(){this.drawPaddles(),this.drawDest(),this.drawStart()}draw(){let{dx:t,dy:s}=this;if(this.releaseBall){const t=this.ball;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.drawPaddles(),this.drawStart(),this.drawDest(),this.drawBall(),this.checkWon(),this.checkOver(),this.paddles.forEach(s=>{if(this.collisionCheck(s,t))switch(!0){case"left"===s.faceDir&&"up"===t.moveDir:t.moveDir="left",this.dy=0,this.dx=-2;break;case"left"===s.faceDir&&"down"===t.moveDir:t.moveDir="right",this.dy=0,this.dx=2;break;case"left"===s.faceDir&&"left"===t.moveDir:t.moveDir="up",this.dy=-2,this.dx=0;break;case"left"===s.faceDir&&"right"===t.moveDir:t.moveDir="down",this.dy=2,this.dx=0;break;case"right"===s.faceDir&&"up"===t.moveDir:t.moveDir="right",this.dy=0,this.dx=2;break;case"right"===s.faceDir&&"down"===t.moveDir:t.moveDir="left",this.dy=0,this.dx=-2;break;case"right"===s.faceDir&&"left"===t.moveDir:t.moveDir="down",this.dy=2,this.dx=0;break;case"right"===s.faceDir&&"right"===t.moveDir:t.moveDir="up",this.dy=-2,this.dx=0}}),this.ball.y+=this.dy,this.ball.x+=this.dx}}checkOver(){const t=this.ball;(t.x>this.canvas.width||t.x<0||t.y>this.canvas.height||t.y<0)&&(this.over=!0)}checkWon(){this.ball.x===this.dest.x&&this.ball.y===this.dest.y&&(this.won=!0)}collisionCheck(t,s){return t.x===s.x&&t.y===s.y}drawPaddles(){this.paddles.forEach(t=>{this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.degree),this.ctx.rect(-t.width/2,-t.height/2,t.width,t.height),this.ctx.lineWidth=2,this.ctx.strokeStyle=t.color,this.ctx.stroke(),this.ctx.restore()})}drawStart(){this.ctx.beginPath(),this.ctx.moveTo(this.start.x,this.start.y),this.ctx.lineTo(this.start.x-10,this.start.y+20),this.ctx.lineTo(this.start.x+10,this.start.y+20),this.ctx.closePath(),this.ctx.lineWidth=2,this.ctx.strokeStyle="#FF0067",this.ctx.stroke()}drawDest(){this.ctx.beginPath(),this.ctx.arc(this.dest.x,this.dest.y,20,0,2*Math.PI),this.ctx.lineWidth=2,this.ctx.strokeStyle="#FF0067",this.ctx.stroke(),this.ctx.closePath()}drawBall(){this.ball.draw()}},r=[{start:{x:150,y:590},dest:{x:350,y:50},paddles:[new i({x:150,y:300},"#26a0da",Math.PI/180*45),new i({x:350,y:300},"#26a0da",Math.PI/180*135)]}];new i({x:150,y:300},"#26a0da",Math.PI/180*45),new i({x:350,y:300},"#26a0da",Math.PI/180*135);var c=class{constructor(t,s){this.level=r[0],this.levelNum=0,this.canvas=s,this.startPos=this.level.start,this.dest=this.level.dest,this.paddles=this.level.paddles,this.ctx=t,this.board=new a(this.ctx,this.canvas,this.level),this.retry=!1,this.board.startScreen(),this.listenKey()}listenKey(){const t=h=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.board.setup(),this.canvas.removeEventListener("mousedown",t),this.canvas.addEventListener("mousedown",s,!1),document.addEventListener("keydown",e),document.addEventListener("keyup",i)},s=t=>{this.ctx.clearRect(0,130,this.canvas.width,this.canvas.height-200),this.ctx.beginPath();let s=t.x-this.canvas.offsetLeft,e=t.y-this.canvas.offsetTop;this.board.paddles.map(t=>{const i=Math.sqrt(Math.pow(t.width,2)/2)/2;return t.x-i<=s&&s<=t.x+i&&t.y-i<=e&&e<=t.y+i&&(t.degree=t.degree===Math.PI/180*45?Math.PI/180*135:Math.PI/180*45,t.faceDir=t.degree===Math.PI/180*45?"left":"right"),t}),this.board.drawPaddles(this.board.paddles)},e=t=>{"Space"===t.code&&(this.canvas.removeEventListener("mousedown",s),this.board.releaseBall=!0,this.play())},i=t=>{"Space"===t.code&&document.removeEventListener("keydown",e)};this.canvas.addEventListener("mousedown",t,!1),this.retry&&t()}play(){const t=setInterval(()=>{this.board.draw.bind(this.board)(),this.board.won&&(clearInterval(t),this.goNext.bind(this)()),this.board.over&&(this.retry=!1,clearInterval(t),this.finish.bind(this)())},5)}goNext(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.drawDest(),this.drawStart(),this.ctx.font="50px sans-serif",this.ctx.strokeText("You Won!",150,250),this.ctx.font="30px sans-serif",this.ctx.fillStyle="#CB356B",this.ctx.fillText("Next",220,350),this.ctx.beginPath(),this.ctx.rect(191,320,120,40),this.ctx.strokeStyle="#CB356B",this.ctx.stroke(),this.ctx.closePath(),this.canvas.addEventListener("mousedown",t=>{let s=t.x-this.canvas.offsetLeft,e=t.y-this.canvas.offsetTop;s>=191&&s<=311&&e<=360&&e>=320&&(this.levelNum+=1,this.level=r[this.levelNum],this.board=new a(this.ctx,this.canvas,this.level),this.listenKey())}),this.canvas.addEventListener("mouseup",t=>{t.x,this.canvas.offsetLeft,t.y,this.canvas.offsetTop})}finish(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.font="40px Arial",this.ctx.strokeStyle="red",this.ctx.strokeText("GAME OVER",125,250),this.ctx.font="30px sans-serif",this.ctx.fillStyle="#f64f59",this.ctx.fillText("Try again",180,350),this.ctx.beginPath(),this.ctx.rect(163,312,160,60);let t=this.ctx.createLinearGradient(0,0,this.canvas.width,0);t.addColorStop("0","#2193b0"),t.addColorStop("1.0","#6dd5ed"),this.ctx.strokeStyle=t,this.ctx.stroke(),this.ctx.closePath();const s=t=>{let s=t.x-this.canvas.offsetLeft,e=t.y-this.canvas.offsetTop;s>=163&&s<=323&&e>=312&&e<=372&&(this.retry=!0,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.board=new a(this.ctx,this.canvas,this.startPos,this.dest,this.paddles),this.listenKey())};this.canvas.addEventListener("mousedown",s),this.canvas.addEventListener("mouseup",t=>{let e=t.x-this.canvas.offsetLeft,i=t.y-this.canvas.offsetTop;e>=163&&e<=323&&i>=312&&i<=372&&this.canvas.removeEventListener("mousedown",s)})}};document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("myCanvas"),s=t.getContext("2d");new c(s,t)})}]);
//# sourceMappingURL=bundle.js.map