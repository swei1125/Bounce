!function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var i=class{constructor(t,e,s){this.width=65,this.height=8,this.color=e,this.x=t.x,this.y=t.y,this.status=1,this.degree=s,this.faceDir=s===Math.PI/180*45?"left":"right"}rotate(){this.degree=Math.PI/180*135}};var a=class{constructor(t,e){this.radius=8,this.x=t.x,this.y=t.y,this.moveDir="up",this.ctx=e}draw(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fillStyle="white",this.ctx.fill(),this.ctx.closePath()}};var h=class{constructor(t,e,s,i,h){this.ctx=t,this.canvas=e,this.start=s,this.dest=i,this.paddles=h,this.releaseBall=!1,this.ball=new a({x:s.x,y:s.y},t),this.dx=0,this.dy=-2,this.drawDest=this.drawDest.bind(this),this.drawStart=this.drawStart.bind(this),this.drawPaddles=this.drawPaddles.bind(this),this.won=!1}startScreen(){this.ctx.beginPath(),this.ctx.font="50px Arial";let t=this.ctx.createLinearGradient(0,0,this.canvas.width,0);t.addColorStop("0","#12c2e9"),t.addColorStop("0.5","#c471ed"),t.addColorStop("1.0","#f64f59"),this.ctx.fillStyle=t,this.ctx.fillText("Click to Start",105,300),this.ctx.closePath()}setup(){this.drawPaddles(),this.drawDest(),this.drawStart()}draw(){let{dx:t,dy:e}=this;if(this.releaseBall){const t=this.ball;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawPaddles(),this.drawStart(),this.drawDest(),this.drawBall(),this.checkWon(),this.checkOver(),this.paddles.forEach(e=>{if(this.collisionCheck(e,t))switch(!0){case"left"===e.faceDir&&"up"===t.moveDir:t.moveDir="left",this.dy=0,this.dx=-2;break;case"left"===e.faceDir&&"down"===t.moveDir:t.moveDir="right",this.dy=0,this.dx=2;break;case"left"===e.faceDir&&"left"===t.moveDir:t.moveDir="up",this.dy=-2,this.dx=0;break;case"left"===e.faceDir&&"right"===t.moveDir:t.moveDir="down",this.dy=2,this.dx=0;break;case"right"===e.faceDir&&"up"===t.moveDir:t.moveDir="right",this.dy=0,this.dx=2;break;case"right"===e.faceDir&&"down"===t.moveDir:t.moveDir="left",this.dy=0,this.dx=-2;break;case"right"===e.faceDir&&"left"===t.moveDir:t.moveDir="down",this.dy=2,this.dx=0;break;case"right"===e.faceDir&&"right"===t.moveDir:t.moveDir="up",this.dy=-2,this.dx=0}}),this.ball.y+=this.dy,this.ball.x+=this.dx}}checkOver(){const t=this.ball;if(t.x>this.canvas.width||t.x<0||t.y>this.canvas.height||t.y<0){clearInterval(1),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.font="40px Arial",this.ctx.strokeStyle="red",this.ctx.strokeText("GAME OVER",125,250),this.ctx.font="30px sans-serif",this.ctx.fillStyle="#f64f59",this.ctx.fillText("Try again",180,350),this.ctx.beginPath(),this.ctx.rect(163,312,160,60);let t=this.ctx.createLinearGradient(0,0,this.canvas.width,0);t.addColorStop("0","#2193b0"),t.addColorStop("1.0","#6dd5ed"),this.ctx.strokeStyle=t,this.ctx.stroke(),this.ctx.closePath(),this.canvas.addEventListener("mousedown",this.tryagain.bind(this),!1)}}tryagain(t){console.log(this.canvas);let e=t.x-this.canvas.offsetLeft,s=t.y-this.canvas.offsetTop;e>=180&&e<=300&&s>=340&&s<=370&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.canvas.removeEventListener("mousedown",this.tryagain),this.setup())}checkWon(){this.ball.x===this.dest.x&&this.ball.y===this.dest.y&&(this.won=!0,clearInterval(1),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.drawDest(),this.drawStart(),this.ctx.font="50px Arial",this.ctx.strokeText("You Won!",150,250))}collisionCheck(t,e){return t.x===e.x&&t.y===e.y}drawPaddles(){this.paddles.forEach(t=>{this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.degree),this.ctx.rect(-t.width/2,-t.height/2,t.width,t.height),this.ctx.lineWidth=2,this.ctx.strokeStyle=t.color,this.ctx.stroke(),this.ctx.restore()})}drawStart(){this.ctx.beginPath(),this.ctx.moveTo(this.start.x,this.start.y),this.ctx.lineTo(this.start.x-10,this.start.y+20),this.ctx.lineTo(this.start.x+10,this.start.y+20),this.ctx.closePath(),this.ctx.lineWidth=2,this.ctx.strokeStyle="#FF0067",this.ctx.stroke()}drawDest(){this.ctx.beginPath(),this.ctx.arc(this.dest.x,this.dest.y,20,0,2*Math.PI),this.ctx.lineWidth=2,this.ctx.strokeStyle="#FF0067",this.ctx.stroke(),this.ctx.closePath()}drawBall(){this.ball.draw()}};new i({x:150,y:300},"#26a0da",Math.PI/180*45),new i({x:350,y:300},"#26a0da",Math.PI/180*135);const r=[new i({x:150,y:300},"#26a0da",Math.PI/180*45),new i({x:350,y:300},"#26a0da",Math.PI/180*135)],c={x:150,y:590},n={x:350,y:50};var d=class{constructor(t,e){this.canvas=e,this.ctx=t,this.board=new h(t,e,c,n,r),this.board.startScreen(),this.listenKey()}listenKey(){const t=a=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.board.setup(),this.canvas.removeEventListener("mousedown",t),this.canvas.addEventListener("mousedown",e,!1),document.addEventListener("keydown",s),document.addEventListener("keyup",i)},e=t=>{this.ctx.clearRect(0,130,this.canvas.width,this.canvas.height-200),this.ctx.beginPath();let e=t.x-this.canvas.offsetLeft,s=t.y-this.canvas.offsetTop;this.board.paddles.map(t=>{const i=Math.sqrt(Math.pow(t.width,2)/2)/2;return t.x-i<=e&&e<=t.x+i&&t.y-i<=s&&s<=t.y+i&&(t.degree=t.degree===Math.PI/180*45?Math.PI/180*135:Math.PI/180*45,t.faceDir=t.degree===Math.PI/180*45?"left":"right"),t}),this.board.drawPaddles(this.board.paddles)},s=t=>{"Space"===t.code&&(this.canvas.removeEventListener("mousedown",e),this.board.releaseBall=!0,this.play())},i=t=>{"Space"===t.code&&document.removeEventListener("keydown",s)};this.canvas.addEventListener("mousedown",t,!1)}play(){setInterval(this.board.draw.bind(this.board),5)}};document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("myCanvas"),e=t.getContext("2d");new d(e,t)})}]);
//# sourceMappingURL=bundle.js.map